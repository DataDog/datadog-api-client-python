from typing import ClassVar
{%- set default = get_enum_default(model) %}
{%- set enum_type = get_enum_type(model) %}

{% if enum_type == "str" %}
class {{ name }}(StringEnum):
{%- else %}
class {{ name }}(ModelSimple):
{%- endif %}
    """
    {{ model.description|indent(8) }}

    :param value: {%- if default != None %} If omitted defaults to {{ default|format_value }}.{%- endif %} Must be one of [{%- for value in model.enum %}{{ value|format_value }}{% if not loop.last %}, {% endif %}{%- endfor %}].
    :type value: {{ enum_type }}
    """

    allowed_values = {
{%- for index, value in enumerate(model.enum) %}
        {{ value|format_value(quotes='"') }},
{%- endfor %}
    }

{%- for index, value in enumerate(model.enum) %}
    {{ model["x-enum-varnames"][index] or value.upper() }}: ClassVar["{{ name }}"]
{%- endfor %}

{% if model.nullable %}
    _nullable = True
{%- endif %}
{% if enum_type != "str" %}

    @cached_property
    def openapi_types(_):
        return {
            "value": ({{ enum_type }},),
        }
{%- endif %}


{%- for index, value in enumerate(model.enum) %}
{{ name }}.{{ model["x-enum-varnames"][index] or value.upper() }} = {{ name }}({{ value|format_value(quotes='"') }})
{%- endfor %}

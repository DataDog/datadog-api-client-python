{% include "api_info.j2" %}

from datadog_api_client.configuration import BaseConfiguration


class Configuration(BaseConfiguration):

    def __init__(
        self,
        host=None,
        api_key=None,
        api_key_prefix=None,
        access_token=None,
        username=None,
        password=None,
        discard_unknown_keys=True,
        disabled_client_side_validations="",
        server_index=None,
        server_variables=None,
        server_operation_index=None,
        server_operation_variables=None,
        ssl_ca_cert=None,
        compress=True,
    ):
        super(Configuration, self).__init__(
             host, api_key, api_key_prefix, access_token, username, password,
             discard_unknown_keys, disabled_client_side_validations, server_index,
             server_variables, server_operation_index, server_operation_variables,
             ssl_ca_cert, compress)

        # Keep track of unstable operations
        self.unstable_operations = {
        {%- for operations in apis.values() %}
        {%- for _, _, operation in operations|sort(attribute="2.operationId") %}
        {%- if "x-unstable" in operation %}
            "{{ operation.operationId|snake_case }}": False,
        {%- endif %}
        {%- endfor %}
        {%- endfor %}
        }
{# keep new line #}
